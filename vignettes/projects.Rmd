---
title: "Semester Projects"
author: "Lyndon Estes"
date: "`r Sys.Date()`"
output:
  prettydoc::html_pretty:
    theme: architect
    highlight: github
    fig_caption: yes
    number_sections: yes
    toc_depth: 3
    toc: yes
    css: unit.css
vignette: >
  %\VignetteIndexEntry{Projects}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

__[In revision]__

# Overview

Each student will undertake an R-based final project for this class. This project could be one related to your own thesis work, which we will discuss and agree upon. Alternatively, you can choose to undertake one of the projects listed below. Some of these are individual projects, some of their you will work on as part of a team. 

This list is currently in thumbnail form, and will fill out during the next few weeks. 

# Potential project list
## Port `AquacropOS` to R
Port the code for the crop simulator `AquacropOS` from matlab into R, integrating into the existing `rcropmod` package. Final project results will include running and presenting gridded crop yield simulations, based on the output of a sophisticated crop model. Skills that will be picked up on the way: matlab -> R translation; `data.table`, `raster`, among others.  


## Analyzing agro-climatological data 
### Over Zambia

#### Develop a rainfall onset metric
Apply and evaluate various objective rainfall onset metrics, using data from the sensors, the SMS survey, and gridded rainfall products. Can a measure applied just to farmer SMS survey responses (e.g. change point detection) produce a similar answer date compared to a metric derived from continuous rainfall measurements from the sensors or gridded rainfall products (e.g. first three consecutive days of rain)?

#### Quantify the spatial variability of rainfall
Use geostatistics to see what the farmers' SMS survey rainfall responses and 2016-2017 sensor data can tell us about the spatial variability of rainfall, at weekly and daily timesteps. How much does rainfall vary between two (or more) different points at a 5, 10, or 25 km scale (the typical pixel size of the gridded rainfall products we use)?

#### Develop a mid-season agricultural drought metric
Use the SMS survey and co-located sensor rainfall data to identify mid-season dry-spells of potential agricultural significance. For example, two or more consecutive rainless weeks close to maize flowering or grain-filling times. Can you detect a signficant drop in farmers' anticipated harvest amounts around such events (we might expect a sudden drop in expected harvest amounts)? How about a significant change in the rate of reduction in farmers' reported maize storage levels fall (if farmers are concerned about crop loss, they might slow their rate of consumption of stored food)? 

#### Evaluate the skill of gridded weather products
Compare the incoming shortwave solar radiation, temperature, and other variables measured by our new sensor pod network to comparable remotely sensed datasets. How well do the various temperature measures correlate with MODIS's Land Surface Temperature (LST)? Is MODIS LST good enough for measuring daily air temperatures at fine scales? How well do the sensors' incoming shortwave radiation correlate with gridded solar radiation datasets (e.g. NASA Power)?  


#### Quantify Zambia's maize planting season
Use the SMS data to analyze the start and end of the maize planting season and how that varies across Zambia, for the 2016-2017 growing season. How long was the season from planting to harvest?  What was the average start date, and how did it vary throughout the country? What was the average harvest date, and how did it vary throughout the country?

#### Predicting farmers' reported yields
The farmers' report their harvests at the end of the SMS survey.  Can we use their own reports of rainfall, and other more quantitative estimates of rainfall (and other weather variables), to predict those yields?  If we can model that with some skill, and if the variables that are the strongest predictors of yields are variables from earlier in the season, then we might be able to use that information to forecast yields. 

### Do farming communities vary their planting dates to adapt to rainfall uncertainty? 

Put another way, do farming communities in areas with higher rainfall variability show higher variability between farmers in terms of when crops are planted?  We hypothesize that this might be the case, as it might be a community-level adaptive response for dealing with climatic uncertainty.  

This analysis would be undertaken using remotely sensed datasets: NDVI time series, gridded rainfall datasets, and a cropland mask. The NDVI time series are processed into values that identify the date of green-up over ~18 years. The rainfall data should be used to calculate the coefficient of variation (CV) of rainfall in the first 2 months of the growing season, and the long-term mean rainfall. Comparing croplands from areas of similar mean rainfall, see if there is a relationship between CV of rainfall and CV of green-up date. 

## In Sutton, MA

Continuing analyses of UAS, satellite, and sensor datasets collected this past summer in Sutton MA (for students who took GEOG294/394). 

Among possible ideas are Shiny dashboards for: 1) displaying pod data over time; 2) displaying "cones of uncertainty" from projected crop yield simulations.

## Using UAS to detect the spread of a crop disease

Use R-implemented machine learning techniques to classify fungal blight in UAS time series collected over cranberry bogs in New Jersey.

## How well do crowdsourcers map individual fields? 

The [Mapping Africa](http://mappingafrica.princeton.edu) project that uses a crowdsourcing platform to digitize cropland visible in high resolution satellite imagery, working within assigned mapping units of 1 km^2^. Our initial production run of the platform (run in the summer of 2016) mapped roughly 30,000 km^2^ over Sub-Saharan Africa. Of particular interest are roughly 200 km^2^ where we had at least 20 different workers map each of the sites. A subset of fields within each site were mapped on the ground using GPS. Now, for each of the fields that we mapped on the ground, we need to assess how many crowdsourced workers digitized that particular field and how many missed it. For any worker-mapped fields that intersect the ground-mapped field, we also need to assess 1) the summary statistics of intersecting worker fields (i.e. the mean worker-mapped field size, the standard deviation, 95th percentile, etc), evaluate 2) the summary statistics of omission (percent overlap) and commission (percent of workers' maps that fell outside of the GPS-mapped field) error of the worker-mapped fields.

This exercise will involve extensive work with vector data. The results will give us important information about how reliable the crowdsourcing data are for understanding the characteristics of cropland throughout Sub-Saharan Africa. 

## Help defeat gerrymandering
### Implement a Shiny interface

There are several potential projects that will help contribute to an understanding of the impacts of gerrymandering in US politics. These ideas come the [Princeton Gerrymandering project](http://gerrymander.princeton.edu).  
### Voting Precinct Demography
The project will assess the demographics of different voting precincts in different states, using the information contained in the polygons representing voting precincts and US census blocks. The final desired result is an R package that has reusable code that can be used to process any of the varying precinct data available from different states, intersect these with census blocks, and produce demographic metrics from these. (Builds on class project from prior year)

### Districting and Population Visualizations

The goal is to demonstrate how redistricters gerrymander congressional districts by "packing" or "cracking" high population areas. Background on the issue can be seen in this LA Times [article](http://www.latimes.com/opinion/op-ed/la-oe-wang-remlinger-gerrymandering-20170505-story.html), in which the graphics were mostly made with R with some Adode Illustrator post-hoc manipulations done by the newspaper. What we would really like to do is represented by the purple-yellow scale map of North Carolina [here](http://gerrymander.princeton.edu/info), which didn't make the article, but was done to support it. The goal is to create a package that can: 
1. Take population data from a given year, and congressional district boundary polygons from a corresponding year
2. Convert them quickly and efficiently into similar maps
3. Create the package so that it installs and demos with data from North Carolina (all available years), and, depending on data availability, possibly one or two other states (e.g. Pennsylvania).
4. Additionally, if the same package can also create maps that, together with the population density information, show which party won the district, [as in this visualization](https://static01.nyt.com/images/2017/09/03/magazine/03gerrymandering_map/03gerrymandering_map-superJumbo.gif), that would be even better.  

### GIS Arguments against Compactness/Map Metrics

There is a strong perception that gerrymandering can be foiled by GIS techniques, using things such as a compactness metric (e.g. perimeter/area ratio) as a standard to prove or prevent gerrymandering. However, such standards cannot be applied in law. One reason has to do with how perimeters are measured. That requires GIS, yet the scale and density with which the polygon defining a district has a large impact on perimeter values. The goal here would be to write an R package to demonstrate and visualize how such variations in polygon delineation can impact perimeter:area ratios. This could be done quite simply with the creation of toy polygons and the use of introduced errors into node x,y coordinates. If successful and compelling, it could have an important impact on policy. 

