---
title: "Help Files"
author: "Lyndon Estes"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    fig_caption: yes
    toc_depth: 3
    toc: yes
vignette: >
  %\VignetteIndexEntry{Help}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


```{r setup, echo=FALSE, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, echo = FALSE}
library(knitr)
# opts_chunk$set(fig.path="fig/")
```

# Overview
Help and how-to for certain things we will be using in this class.


# Github-related
## Set up a github access token

This is necessary for using `devtools::install_github()` to install private packages, such as the class R package

1. Go into your github account, click settings:

```{r, out.width = "70%", echo=FALSE}
knitr::include_graphics("fig/pat1.png")
```

2. Select personal access tokens:

```{r, out.width = "20%", echo=FALSE}
knitr::include_graphics("fig/pat2.png")
```

3. Choose to generate a new token:

```{r, out.width = "50%", echo=FALSE}
knitr::include_graphics("fig/pat3.png")
```

4. Generate a new token after naming the token something meaningful and checking the "repo" box:

```{r, out.width = "50%", echo=FALSE}
knitr::include_graphics("fig/pat4.png")
```

5. The result will look something like this. Choose copy link and then paste it somewhere safe. 
```{r, out.width = "50%", echo=FALSE}
knitr::include_graphics("fig/pat5.png")
```

6. For example, to install the class R package, you will need the token as follows: 
```{r, eval = FALSE}
library(devtools)
install_github("agroimpacts/geospaR", build_vignettes = TRUE, 
               auth_token = "the-token-you-just-generated-pasted-here"))

```

## Branching and merging

A very useful references for basic branching merging can be found [here](https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging)

1. Create a new branch, from within the shell

    (replace <branchname> with a meaningful branch name, e.g. a1)
    ```{bash, eval = FALSE}
    git checkout -b <branchname>
    ```

2. Switch branch

    - from shell
    
    ```{bash, eval = FALSE}
    git checkout <branchname>
    ```

    - from within Rstudio
    
![](fig/branches.png)


3. Delete a local branch (if you created one by accident, from shell). Don't do this to your master branch. 

    ```{bash, eval = FALSE}
    git branch -d <branchname>
    ```


4. Push a branch to your remote GitHub repo
    ```{bash, eval = FALSE}
    git push origin <branchname>
    ```

5. Delete a remote branch
    ```{bash, eval = FALSE}
    git push origin --delete <branchname>
    ```

6. Merge two branches

    ```{bash, eval = FALSE}
    git checkout <branch-you-want-to-merge-onto>
    git merge <branch-to-merge-onto-the-branch-you-are-in>
    
    ```

## Rstudio and GitHub

1. I can push and pull to my repo from the command line, but Rstudio's git push and pull buttons are greyed out. How do I fix that? The answer can be found [here](https://landeco2point0.wordpress.com/2014/07/22/things-i-forget-pushpull-greyed-out-in-rstudio/). You can fix this and bring the buttons back to life if you do this, from the shell:

    ```{bash, eval = FALSE}
    git push -u origin <branch-to-push>
    ```
    
    Note the -u flag. That should fix it. 


